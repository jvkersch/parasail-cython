platform:
  - x64

environment:
  matrix:
    - PYTHON: "C:\\Python36-x64"
      PYTHON_VERSION: "3.6.0"
      PYTHON_ARCH: "64"
      PIP: "C:\\Python36-x64\\Scripts\\pip"

shallow_clone: true

init:
  - "SET PATH=%PYTHON%;%PYTHON%\\Scripts;%PATH%"
  - "python --version"
  - ps: Invoke-WebRequest -Uri https://github.com/jeffdaily/parasail/releases/download/v2.0.4/parasail-2.0.4-win64-v140.zip -OutFile parasail.zip
  - ps: 7z x parasail.zip
  - set PARASAIL_LIB=parasail-2.0.4-win64-v140\\bin
  - set PARASAIL_INCLUDE=parasail-2.0.4-win64-v140\\include

build_script:
  - "pip install -r requirements.txt"
  - "python setup.py develop"

test_script:
  - "python -m unittest discover -v cyparasail"
